<!doctype html>
<html lang="vi">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>H·∫πn h√≤ t·∫°i H√† N·ªôi ‚Äî T·∫°o k·∫ø ho·∫°ch</title>
  <link rel="icon" type="image/jpeg" href="logo.jpg" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Nunito:wght@300;400;600;700&display=swap');

    :root {
      --bg: #fff5f8;
      --card: #ffffff;
      --accent: #ff6b9d;
      --accent-light: #ffb3d1;
      --muted: #a8556f;
      --text: #111;
      --text-light: #a8556f;
      --border: #ffd6e5;
      --shadow-sm: 0 4px 12px rgba(255, 107, 157, 0.2);
      --shadow-md: 0 6px 16px rgba(255, 107, 157, 0.25);
      --shadow-lg: 0 16px 40px rgba(255, 107, 157, 0.3);
      --gradient-romantic: linear-gradient(135deg, rgba(255, 107, 157, 0.85) 0%, rgba(255, 143, 171, 0.85) 50%, rgba(255, 179, 209, 0.85) 100%);
      --gradient-soft: linear-gradient(135deg, #fff5f8 0%, #ffeef5 100%);
      --font-fancy: 'Great Vibes', cursive;
      --font-heading: 'Playfair Display', serif;
      --font-body: 'Nunito', sans-serif;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    body {
      font-family: var(--font-body);
      font-size: 17px;
      margin: 0;
      /* Combine patterns with the soft gradient base for full coverage */
      background-color: #fff5f8;
      background-image:
        radial-gradient(circle at 15% 25%, rgba(255, 107, 157, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 85% 75%, rgba(255, 107, 157, 0.15) 0%, transparent 40%),
        url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 38.6c-9.9-8.7-16-14-16-20.4 0-4.8 3.8-8.8 8.6-8.8 2.7 0 5.3 1.3 7 3.3.1.2.5.2.7 0 1.7-2 4.3-3.3 7-3.3 4.8 0 8.6 4 8.6 8.8 0 6.4-6.1 11.7-15.9 20.4z' fill='%23ff6b9d' fill-opacity='0.15' fill-rule='evenodd'/%3E%3C/svg%3E"),
        var(--gradient-soft);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
      padding-top: 340px;
      /* Space for fixed header - adjusted closer as requested */
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      color: var(--text);
      padding: var(--h-padding, 48px) 24px;
      box-shadow: 0 4px 20px rgba(255, 107, 157, 0.15);
      overflow: hidden;
      background: rgba(255, 245, 248, 0.7);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255, 107, 157, 0.2);
      will-change: padding;
      transition: padding 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        backdrop-filter 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    header .header-slideshow {
      opacity: var(--bg-opacity, 1);
      transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    header h1 {
      margin-bottom: 0;
      padding-bottom: 0;
      display: flex;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .title-wrapper {
      display: flex;
      flex-direction: column;
    }

    .header-logo {
      height: var(--logo-size, 100px);
      width: var(--logo-size, 100px);
      object-fit: contain;
      border-radius: 20px;
      border: 2px solid rgba(255, 107, 157, 0.2);
      box-shadow: 0 4px 12px rgba(255, 107, 157, 0.2);
      background: rgba(255, 255, 255, 0.8);
      padding: var(--logo-padding, 8px);
      flex-shrink: 0;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .header-logo:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 16px rgba(255, 107, 157, 0.3);
      border-color: rgba(255, 107, 157, 0.4);
      background: rgba(255, 255, 255, 0.95);
    }

    @media (max-width: 768px) {
      .header-logo {
        height: var(--logo-size, 70px);
        width: var(--logo-size, 70px);
        padding: var(--logo-padding, 6px);
      }
    }

    header p {
      opacity: var(--p-opacity, 1);
      max-height: var(--p-height, 100px);
      margin-top: var(--p-margin, 16px);
      overflow: hidden;
      transform-origin: top;
      transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        margin-top 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .title-sub {
      font-family: 'Playfair Display', serif;
      font-size: var(--sub-size, 32px);
      letter-spacing: 1px;
      display: block;
      margin-bottom: var(--sub-margin, 0px);
      font-weight: 700;
      font-style: italic;
      line-height: 1.2;
      color: var(--muted);
      text-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
      transition: font-size 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        margin-bottom 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .title-main {
      font-family: var(--font-fancy);
      font-size: var(--main-size, 72px);
      font-weight: 700;
      display: block;
      line-height: 1.2;
      margin-top: 0px;
      color: var(--accent);
      transition: font-size 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to bottom, rgba(255, 245, 248, 0.5), rgba(255, 255, 255, 0.95));
      z-index: 1;
      opacity: var(--overlay-opacity, 0.4);
      pointer-events: none;
      transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    header .container {
      position: relative;
      z-index: 2;
    }

    .header-slideshow {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .header-slideshow img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      animation: slideShow 20s infinite;
      mix-blend-mode: multiply;
      filter: opacity(0.15) sepia(0.5) hue-rotate(320deg);
    }

    .header-slideshow img:nth-child(1) {
      animation-delay: 0s
    }

    .header-slideshow img:nth-child(2) {
      animation-delay: 4s
    }

    .header-slideshow img:nth-child(3) {
      animation-delay: 8s
    }

    .header-slideshow img:nth-child(4) {
      animation-delay: 12s
    }

    .header-slideshow img:nth-child(5) {
      animation-delay: 16s
    }

    @keyframes slideShow {
      0% {
        opacity: 0;
        transform: scale(1);
      }

      5% {
        opacity: 1;
      }

      25% {
        opacity: 1;
      }

      35% {
        opacity: 0;
        transform: scale(1.15);
        /* More movement */
      }

      100% {
        opacity: 0;
        transform: scale(1.15);
      }
    }

    .container {
      max-width: 1200px;
      margin: 32px auto;
      padding: 0 24px;
    }

    h1 {
      margin: 0;
      font-family: var(--font-fancy);
      font-size: 60px;
      font-weight: 400;
      font-style: normal;
      text-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      /* Stronger shadow */
      letter-spacing: 2px;
      line-height: 1.2;
      margin-bottom: 12px;
      padding-bottom: 8px;
    }

    h2 {
      font-family: var(--font-heading);
      font-size: 28px;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 24px;
      letter-spacing: -0.3px;
    }

    h3 {
      font-family: var(--font-heading);
      font-size: 24px;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 16px;
    }

    header p {
      font-family: var(--font-body);
      font-size: 17px;
      font-weight: 500;
      opacity: 1;
      text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
      max-width: 600px;
      line-height: 1.6;
      margin-top: 16px;
      color: var(--text-light);
    }

    .grid {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 24px;
      align-items: start;
    }

    @media (max-width: 900px) {
      .grid {
        grid-template-columns: 1fr;
        gap: 24px;
      }

      .container {
        padding: 0 20px;
      }
    }

    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 6px 20px rgba(255, 107, 157, 0.1);
      border: 1px solid rgba(255, 107, 157, 0.1);
      transition: all 0.3s;
    }

    .card:hover {
      box-shadow: 0 8px 24px rgba(255, 107, 157, 0.15);
    }

    label {
      display: block;
      font-size: 13px;
      margin-bottom: 6px;
      color: var(--muted);
      font-weight: 500;
    }

    input[type=text],
    select,
    textarea {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ffd6e5;
      font-size: 14px;
      font-family: var(--font-body);
      background: white;
      color: var(--text);
      font-weight: 500;
    }

    input[type=text]:focus,
    select:focus,
    textarea:focus,
    input[type=text]:hover,
    select:hover,
    textarea:hover {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(255, 107, 157, 0.1);
      background: #fff;
    }

    input[type=date],
    input[type=time] {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ffd6e5;
      font-size: 14px;
      font-family: var(--font-body);
      transition: all 0.3s;
      background: white;
      color: var(--text);
      font-weight: 400;
      cursor: pointer;
    }

    input[type=date]:focus,
    input[type=time]:focus,
    input[type=date]:hover,
    input[type=time]:hover {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(255, 107, 157, 0.1);
      background: #fff;
    }

    textarea {
      min-height: 100px;
      resize: vertical;
    }

    .row {
      display: flex;
      gap: 16px;
    }

    .row>* {
      flex: 1;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 18px;
      border-radius: 12px;
      border: 0;
      background: var(--accent);
      color: white;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 12px rgba(255, 107, 157, 0.3);
    }

    .btn:hover {
      background: #ff5a8a;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(255, 107, 157, 0.4);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn.secondary {
      background: #ffeef5;
      color: var(--accent);
      border: 1px solid rgba(255, 107, 157, 0.3);
      box-shadow: 0 2px 8px rgba(255, 107, 157, 0.15);
    }

    .btn.secondary:hover {
      background: #ffd6e5;
      border-color: var(--accent);
    }

    .result {
      white-space: pre-wrap;
      font-family: inherit;
      background: #fff9fb;
      padding: 12px;
      border-radius: 10px;
      border: 1px dashed #ffb3d1;
    }

    .chip {
      display: inline-block;
      background: #ffeef5;
      color: var(--accent);
      padding: 6px 10px;
      border-radius: 20px;
      margin: 6px 6px 0 0;
      font-size: 13px;
      border: 1px solid rgba(255, 107, 157, 0.2);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    footer {
      font-size: 13px;
      color: var(--muted);
      text-align: center;
      margin: 32px 0;
      padding: 24px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 12px;
    }

    .plan-card {
      background: #fff;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 4px 12px rgba(255, 107, 157, 0.15);
      border: 1px solid rgba(255, 107, 157, 0.2);
      cursor: pointer;
      transition: all 0.3s;
      overflow: hidden;
    }

    .plan-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 20px rgba(255, 107, 157, 0.25);
    }

    .plan-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
      border-radius: 8px;
      margin-bottom: 12px;
    }

    .plan-card h4 {
      margin: 0 0 8px 0;
      font-family: var(--font-heading);
      color: var(--accent);
      font-size: 18px;
      font-weight: 700;
    }

    .plan-card p {
      margin: 4px 0;
      color: #555;
      font-size: 14px;
      line-height: 1.5;
    }

    .plan-card .time-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #ffeef5;
      color: var(--accent);
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      margin-top: 8px;
    }

    .summary-card {
      background: linear-gradient(135deg, #ffeef5 0%, #ffd6e5 100%);
      border-radius: 12px;
      padding: 20px;
      margin-top: 24px;
      border: 2px solid var(--accent);
      box-shadow: var(--shadow-sm);
    }

    .summary-card h3 {
      margin: 0 0 12px 0;
      color: var(--accent);
      font-size: 18px;
      font-weight: 700;
    }

    .summary-card p {
      margin: 6px 0;
      color: #555;
      font-size: 14px;
      line-height: 1.6;
    }

    .summary-card strong {
      color: #111;
      font-weight: 600;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
      animation: fadeIn 0.3s;
    }

    .modal.active {
      display: flex;
    }

    @keyframes fadeIn {
      from {
        opacity: 0
      }

      to {
        opacity: 1
      }
    }

    .modal-content {
      background: #fff;
      border-radius: 16px;
      padding: 0;
      max-width: 600px;
      width: 100%;
      max-height: 85vh;
      display: flex;
      flex-direction: column;
      position: relative;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    #modal-body {
      overflow-y: auto;
      padding: 24px;
      min-height: 0;
    }

    @keyframes slideUp {
      from {
        transform: translateY(20px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .modal-content img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: var(--shadow-sm);
    }

    .modal-close {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--accent);
      color: white;
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      box-shadow: var(--shadow-sm);
      z-index: 20;
    }

    .modal-close:hover {
      background: #ff5a8a;
      transform: scale(1.1);
    }

    .interest-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 12px;
    }

    .interest-btn {
      padding: 10px 18px;
      font-size: 14px;
    }

    .nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.8);
      border: none;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      color: var(--accent);
      z-index: 1001;
      display: none;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: all 0.2s;
    }

    .nav-arrow:hover {
      background: white;
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 6px 16px rgba(255, 107, 157, 0.3);
    }

    .nav-arrow.prev {
      left: 20px;
    }

    .nav-arrow.next {
      right: 20px;
    }

    .modal-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 24px;
      gap: 12px;
      border-top: 1px solid #eee;
      padding-top: 20px;
    }

    .modal-nav button {
      flex: 1;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 28px;
      }

      .container {
        padding: 0 16px;
        margin: 24px auto;
      }

      .card {
        padding: 20px;
      }

      .grid {
        gap: 20px;
      }
    }
  </style>
</head>

<body>
  <header id="main-header">
    <div class="header-slideshow">
      <img src="pexels-photo-4975041.jpeg" alt="Romantic background 1" />
      <img src="media_1542_16986522984.webp" alt="Romantic background 2" />
      <img src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=1200&q=80" alt="Romantic background 3" />
      <img src="maxresdefault.jpg" alt="Romantic background 4" />
      <img src="images (3).jpg" alt="Romantic background 5" />
    </div>
    <div class="container">
      <h1 id="main-title">
        <img src="logo.jpg" alt="Logo" class="header-logo" />
        <div class="title-wrapper">
          <span class="title-sub">Tr√¨nh t·∫°o k·∫ø ho·∫°ch</span>
          <span class="title-main">H·∫πn h√≤ t·∫°i H√† N·ªôi</span>
        </div>
      </h1>
      <p>Nh·∫≠p s·ªü th√≠ch v√† y√™u c·∫ßu, nh·∫•n "T·∫°o k·∫ø ho·∫°ch" ƒë·ªÉ nh·∫≠n l·ªãch tr√¨nh h·∫πn h√≤ ƒë∆∞·ª£c c√° nh√¢n h√≥a.</p>
    </div>
  </header>

  <main class="container">
    <div class="grid">
      <section class="card">
        <h2>Th√¥ng tin & s·ªü th√≠ch</h2>

        <div style="margin-bottom: 24px">
          <label>T√™n c·∫∑p ƒë√¥i</label>
          <div class="row" style="margin-top: 8px">
            <div>
              <label style="font-size: 13px; margin-bottom: 6px; display: block">T√™n b·∫°n</label>
              <input id="name1" type="text" placeholder="V√≠ d·ª•: An" />
            </div>
            <div>
              <label style="font-size: 13px; margin-bottom: 6px; display: block">T√™n ng∆∞·ªùi ·∫•y</label>
              <input id="name2" type="text" placeholder="V√≠ d·ª•: Minh" />
            </div>
          </div>
        </div>

        <div style="margin-bottom: 24px">
          <label>Ng√†y / th·ªùi gian</label>
          <div class="row" style="margin-top: 8px">
            <div>
              <label style="font-size: 13px; margin-bottom: 6px; display: block">Ng√†y</label>
              <input id="date" type="date" />
            </div>
            <div>
              <label style="font-size: 13px; margin-bottom: 6px; display: block">Gi·ªù</label>
              <input id="time" type="time" />
            </div>
          </div>
        </div>

        <div style="margin-bottom: 24px">
          <label>Th·ªùi l∆∞·ª£ng d·ª± ki·∫øn</label>
          <select id="duration" style="margin-top: 8px">
            <option value="half">2-3 gi·ªù (cu·ªôc h·∫πn ng·∫Øn)</option>
            <option value="halfday">N·ª≠a ng√†y (4-6 gi·ªù)</option>
            <option value="fullday">C·∫£ ng√†y (7-10 gi·ªù)</option>
            <option value="evening">Ch·ªâ bu·ªïi t·ªëi</option>
          </select>
        </div>

        <div style="margin-bottom: 24px">
          <label>S·ªü th√≠ch ch√≠nh</label>
          <div class="interest-buttons">
            <button class="btn secondary interest-btn" data-interest="Cafe & chill">Cafe & chill</button>
            <button class="btn secondary interest-btn" data-interest="·∫®m th·ª±c ƒë·ªãa ph∆∞∆°ng">·∫®m th·ª±c</button>
            <button class="btn secondary interest-btn" data-interest="L√£ng m·∫°n">L√£ng m·∫°n</button>
            <button class="btn secondary interest-btn" data-interest="Nhi·∫øp ·∫£nh">Nhi·∫øp ·∫£nh</button>
            <button class="btn secondary interest-btn" data-interest="VƒÉn h√≥a & l·ªãch s·ª≠">VƒÉn h√≥a</button>
            <button class="btn secondary interest-btn" data-interest="√Çm nh·∫°c / Live">√Çm nh·∫°c</button>
            <button class="btn secondary interest-btn" data-interest="Th·ªÉ thao">Th·ªÉ thao</button>
            <button class="btn secondary interest-btn" data-interest="Shopping">Shopping</button>
            <button class="btn secondary interest-btn" data-interest="Thi√™n nhi√™n">Thi√™n nhi√™n</button>
            <button class="btn secondary interest-btn" data-interest="Gi·∫£i tr√≠">Gi·∫£i tr√≠</button>
            <button class="btn secondary interest-btn" data-interest="Ngh·ªá thu·∫≠t">Ngh·ªá thu·∫≠t</button>
          </div>
          <div id="selectedInterests"
            style="margin-top: 12px; min-height: 40px; padding: 8px; border: 1px dashed var(--border); border-radius: 12px; display: flex; flex-wrap: wrap; gap: 8px;">
            <span style="width: 100%; color: var(--text-light); font-size: 13px; font-style: italic;"
              id="emptyInterestMsg">Ch∆∞a ch·ªçn s·ªü th√≠ch n√†o</span>
          </div>
        </div>

        <div style="margin-bottom: 24px">
          <label>Ng√¢n s√°ch ∆∞·ªõc t√≠nh (ng∆∞·ªùi/c·∫∑p)</label>
          <select id="budget" style="margin-top: 8px">
            <option value="low">Ti·∫øt ki·ªám (d∆∞·ªõi 300k/ng∆∞·ªùi)</option>
            <option value="medium">Trung b√¨nh (300k - 700k/ng∆∞·ªùi)</option>
            <option value="high">Cao c·∫•p (700k+/ng∆∞·ªùi)</option>
          </select>
        </div>

        <div style="margin-bottom: 24px">
          <label>∆Øu ti√™n kh√¥ng kh√≠</label>
          <select id="vibe" style="margin-top: 8px">
            <option value="relaxed">Th∆∞ gi√£n, nh·∫π nh√†ng</option>
            <option value="romantic">L√£ng m·∫°n</option>
            <option value="adventure">Nhi·ªÅu ho·∫°t ƒë·ªông</option>
            <option value="foodie">T·∫≠p trung ƒÉn u·ªëng</option>
          </select>
        </div>

        <div style="margin-bottom: 28px">
          <label>Ghi ch√∫ ƒë·∫∑c bi·ªát</label>
          <textarea id="notes" placeholder="V√≠ d·ª•: d·ªã ·ª©ng h·∫£i s·∫£n, sinh nh·∫≠t, th√≠ch ch·ª•p ·∫£nh..."
            style="margin-top: 8px"></textarea>
        </div>

        <div style="display:flex; gap:12px; align-items:center">
          <button class="btn" onclick="generatePlan()">T·∫°o k·∫ø ho·∫°ch</button>
          <button class="btn secondary" onclick="clearForm()">X√≥a</button>
        </div>
      </section>

      <aside class="card" id="preview">
        <h3>K·∫øt qu·∫£</h3>
        <div id="badges" style="margin-bottom: 16px"></div>
        <div id="output"></div>
        <div id="summary" style="display:none"></div>
        <div style="margin-top: 20px; display:flex; gap:10px; flex-wrap: wrap">
          <button class="btn secondary" onclick="copyPlan()">Sao ch√©p</button>
          <button class="btn" style="background:#a8556f; box-shadow: 0 4px 14px rgba(168, 85, 111, 0.4);"
            onclick="downloadDoc()">T·∫£i v·ªÅ (.doc)</button>
        </div>
      </aside>

      <button class="nav-arrow prev" onclick="navigateModal(-1)">&#10094;</button>
      <div id="modal" class="modal">
        <button class="nav-arrow prev" onclick="navigateModal(-1)">&#10094;</button>
        <div class="modal-content">
          <button class="modal-close" onclick="closeModal()">&times;</button>
          <div id="modal-body"></div>
        </div>
        <button class="nav-arrow next" onclick="navigateModal(1)">&#10095;</button>
      </div>
    </div>

    <!-- Section for All Locations Reference -->
    <section class="container" id="all-locations-section"
      style="margin-top: 60px; padding-top: 40px; border-top: 1px dashed #ffd6e5;">
      <h2
        style="text-align: center; margin-bottom: 30px; font-family: var(--font-fancy); font-size: 64px; color: var(--accent);">
        Kh√°m ph√° t·∫•t c·∫£ ƒë·ªãa ƒëi·ªÉm
      </h2>
      <div id="location-filters"
        style="display: flex; justify-content: center; flex-wrap: wrap; gap: 8px; margin-bottom: 24px;">
        <!-- Filters populated by script -->
      </div>
      <div id="all-locations-container" class="grid-all-locations">
        <!-- populated by script -->
      </div>
    </section>

    <!-- Static Feedback Section -->
    <section class="container" id="feedback-section-static"
      style="margin-top: 60px; max-width: 600px; margin-left: auto; margin-right: auto;">
      <div class="card" style="border: 2px dashed var(--accent-light);">
        <h2 style="text-align: center; color: var(--accent); margin-bottom: 20px;">G·ª≠i √Ω t∆∞·ªüng m·ªõi üå±</h2>
        <p style="text-align: center; color: #666; margin-bottom: 24px;">B·∫°n bi·∫øt ƒë·ªãa ƒëi·ªÉm th√∫ v·ªã n√†o kh√°c? H√£y chia s·∫ª
          ƒë·ªÉ ch√∫ng m√¨nh b·ªï sung v√†o danh s√°ch nh√©!</p>

        <form class="feedback-form" onsubmit="handleFeedback(event)">
          <div style="margin-bottom: 16px;">
            <label>T√™n c·ªßa b·∫°n (T√πy ch·ªçn)</label>
            <input type="text" name="fb-name" placeholder="Nh·∫≠p t√™n..."
              style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; outline: none;">
          </div>
          <div style="margin-bottom: 16px;">
            <label>√ù t∆∞·ªüng / ƒê·ªãa ƒëi·ªÉm m·ªõi (*)</label>
            <textarea name="fb-idea" required placeholder="V√≠ d·ª•: Qu√°n cafe X ·ªü ph·ªë Y r·∫•t chill, gi√° kho·∫£ng 40k..."
              rows="4"
              style="width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; font-family: inherit; outline: none; resize: vertical;"></textarea>
          </div>
          <button type="submit" class="btn" style="width: 100%;">G·ª≠i ƒë√≥ng g√≥p üíå</button>
        </form>
      </div>
    </section>

    <footer>
      M·∫πo: th·ª≠ nhi·ªÅu l·ª±a ch·ªçn s·ªü th√≠ch/khung th·ªùi gian ƒë·ªÉ nh·∫≠n ƒë∆∞·ª£c k·∫ø ho·∫°ch kh√°c nhau. D·ª± √°n ƒë∆°n gi·∫£n, d√πng cho tham
      kh·∫£o.
    </footer>
  </main>

  <script>
    // Smooth scroll animation using CSS variables
    const header = document.getElementById('main-header');
    let ticking = false;

    function updateHeader() {
      const scrollY = window.scrollY;
      const maxScroll = 150; // Faster transition (previously 300)
      const progress = Math.min(scrollY / maxScroll, 1);

      // Interpolate values linearly over the full range
      const padding = 48 - (36 * progress); // 48px -> 12px
      const subSize = 32 - (16 * progress); // 32px -> 16px
      const mainSize = 72 - (40 * progress); // 72px -> 32px
      
      // Logo size: responsive - desktop 100px->50px, mobile 70px->40px
      const isMobile = window.innerWidth <= 768;
      const logoStart = isMobile ? 70 : 100;
      const logoEnd = isMobile ? 40 : 50;
      const logoSize = logoStart - ((logoStart - logoEnd) * progress);
      const logoPadding = 8 - (4 * progress); // 8px -> 4px

      // Sync these exactly with scroll progress
      const pOpacity = 1 - progress;
      const pHeight = 100 * (1 - progress);
      const pMargin = 16 * (1 - progress);

      const bgOpacity = 1 - (0.5 * progress);
      const subMargin = 0 - (5 * progress);
      const overlayOpacity = 0.4 + (0.6 * progress); // 0.4 -> 1.0 (More solid white on scroll)

      // Apply CSS variables
      header.style.setProperty('--h-padding', `${padding}px`);
      header.style.setProperty('--sub-size', `${subSize}px`);
      header.style.setProperty('--main-size', `${mainSize}px`);
      header.style.setProperty('--logo-size', `${logoSize}px`);
      header.style.setProperty('--logo-padding', `${logoPadding}px`);
      header.style.setProperty('--p-opacity', pOpacity);
      header.style.setProperty('--p-height', `${pHeight}px`);
      header.style.setProperty('--p-margin', `${pMargin}px`);
      header.style.setProperty('--bg-opacity', bgOpacity);
      header.style.setProperty('--sub-margin', `${subMargin}px`);
      header.style.setProperty('--overlay-opacity', overlayOpacity);

      ticking = false;
    }

    window.addEventListener('scroll', function () {
      if (!ticking) {
        window.requestAnimationFrame(updateHeader);
        ticking = true;
      }
    });

    // Initial call
    updateHeader();

    let selectedInterests = new Set();
    let currentActivities = [];

    // Danh s√°ch ƒë·ªãa ƒëi·ªÉm (Global) - Updated with new details
    const places = {
      'VƒÉn h√≥a': [
        { name: 'VƒÉn Mi·∫øu - Qu·ªëc T·ª≠ Gi√°m', img: 'https://images.unsplash.com/photo-1583417319070-4a69db38a482?w=800&q=80', desc: 'Di t√≠ch l·ªãch s·ª≠ vƒÉn h√≥a n·ªïi ti·∫øng', price: '30.000ƒë/v√©', concept: 'C·ªï k√≠nh, trang nghi√™m', style: 'Tham quan, ch·ª•p ·∫£nh' },
        { name: 'Nh√† h√°t M√∫a r·ªëi n∆∞·ªõc ThƒÉng Long', img: 'https://images.unsplash.com/photo-1580477667995-2b94f01c9516?w=800&q=80', desc: 'Tr·∫£i nghi·ªám ngh·ªá thu·∫≠t truy·ªÅn th·ªëng ƒë·ªôc ƒë√°o', price: '100.000ƒë - 200.000ƒë/v√©', concept: 'Ngh·ªá thu·∫≠t d√¢n gian', style: 'Gi·∫£i tr√≠, vƒÉn h√≥a' },
        { name: 'LƒÉng Ch·ªß t·ªãch H·ªì Ch√≠ Minh', img: 'https://images.unsplash.com/photo-1528127269322-539801943592?w=800&q=80', desc: 'Di t√≠ch l·ªãch s·ª≠ quan tr·ªçng, kh√¥ng gian trang nghi√™m', price: 'Mi·ªÖn ph√≠ (ng∆∞·ªùi Vi·ªát)', concept: 'Trang nghi√™m, l·ªãch s·ª≠', style: 'Tham quan' },
        { name: 'Ch√πa M·ªôt C·ªôt', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04] (1)/chua1cot.jpg', desc: 'Bi·ªÉu t∆∞·ª£ng vƒÉn h√≥a ƒë·ªôc ƒë√°o c·ªßa H√† N·ªôi', price: 'Mi·ªÖn ph√≠', concept: 'Ph·∫≠t gi√°o, ki·∫øn tr√∫c ƒë·ªôc ƒë√°o', style: 'T√¢m linh, tham quan' },
        { name: 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04] (1)/baotangdantoc.jpg', desc: 'Kh√°m ph√° vƒÉn h√≥a 54 d√¢n t·ªôc Vi·ªát Nam', price: '40.000ƒë/v√©', concept: 'VƒÉn h√≥a ƒëa d·∫°ng', style: 'H·ªçc h·ªèi, kh√°m ph√°' },
        { name: 'B·∫£o t√†ng L·ªãch s·ª≠ Qu·ªëc gia', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04] (1)/baotanglichsu.jpg', desc: 'T√¨m hi·ªÉu l·ªãch s·ª≠ Vi·ªát Nam qua c√°c th·ªùi k·ª≥', price: '40.000ƒë/v√©', concept: 'L·ªãch s·ª≠, ki·∫øn tr√∫c Ph√°p', style: 'Tham quan' }
      ],
      'Cafe & chill': [
        { name: 'C√† ph√™ Nh√† S√†n', img: 'https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?w=800&q=80', desc: 'Kh√¥ng gian ·∫•m c√∫ng, l√£ng m·∫°n', price: '30k - 60k', menu: 'Cafe, tr√†, sinh t·ªë', concept: 'Vintage, bao c·∫•p', style: 'Y√™n tƒ©nh, ho√†i c·ªï' },
        { name: 'C·ªông c√† ph√™ khu Ho√†n Ki·∫øm', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/congcafe.jpg', desc: 'View ƒë·∫πp, kh√¥ng kh√≠ th∆∞ gi√£n', price: '40k - 80k', menu: 'C√† ph√™ c·ªët d·ª´a, b·∫°c x·ªâu', concept: 'Th·ªùi bao c·∫•p', style: 'Nh·ªôn nh·ªãp, view ph·ªë' },
        { name: 'C√† ph√™ view H·ªì T√¢y', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/cafeviewhotay.jpg', desc: 'Ng·∫Øm c·∫£nh h·ªì tuy·ªát ƒë·∫πp', price: '50k - 100k', menu: 'Cocktail, tr√†, b√°nh', concept: 'Hi·ªán ƒë·∫°i, kh√¥ng gian m·ªü', style: 'L√£ng m·∫°n, chill' },
        { name: 'C√† ph√™ Trung Nguy√™n Legend', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/cafetrungnguyen.jpg', desc: 'Kh√¥ng gian sang tr·ªçng, c√† ph√™ ch·∫•t l∆∞·ª£ng', price: '60k - 150k', menu: 'C√† ph√™ nƒÉng l∆∞·ª£ng', concept: 'S√°ch & tri th·ª©c', style: 'Sang tr·ªçng, tƒ©nh l·∫∑ng' },
        { name: 'C√† ph√™ The Note Coffee', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/cafethenotecoffee.jpg', desc: 'Kh√¥ng gian ƒë·ªôc ƒë√°o v·ªõi ghi ch√∫ tr√™n t∆∞·ªùng', price: '40k - 70k', menu: 'C√† ph√™ tr·ª©ng, latte', concept: 'ƒê·∫ßy m√†u s·∫Øc, t∆∞∆°ng t√°c', style: 'Vui v·∫ª, check-in' },
        { name: 'C√† ph√™ Ph·ªë C·ªï', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/cafephoco.jpg', desc: 'Kh√¥ng gian c·ªï k√≠nh, y√™n tƒ©nh', price: '30k - 60k', menu: 'C√† ph√™ tr·ª©ng', concept: 'Nh√† c·ªï H√† N·ªôi', style: '·∫®n m√¨nh, y√™n b√¨nh' },
        { name: 'Cafe Ph·ªë C·ªï', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/cafephoco.jpg', desc: 'Kh√¥ng gian c·ªï k√≠nh ƒë·∫≠m ch·∫•t H√† N·ªôi', price: '35k - 65k', menu: 'C√† ph√™, tr√†, ƒë·ªì u·ªëng truy·ªÅn th·ªëng', concept: 'Ph·ªë c·ªï H√† N·ªôi', style: 'Ho√†i ni·ªám, y√™n b√¨nh' },
        { name: 'Cafe Dinh', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/cafedinh.jpg', desc: 'Kh√¥ng gian ·∫•m c√∫ng, view ƒë·∫πp', price: '40k - 80k', menu: 'Cafe, tr√†, b√°nh ng·ªçt', concept: 'C·ªï ƒëi·ªÉn, sang tr·ªçng', style: 'L√£ng m·∫°n, th∆∞ gi√£n' },
        { name: 'Cafe Tranquil & Coffee', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_04]/cafetranquil.jpg', desc: 'Kh√¥ng gian y√™n tƒ©nh, thanh b√¨nh', price: '45k - 90k', menu: 'Cafe specialty, tr√†, b√°nh', concept: 'Minimalist, zen', style: 'Tƒ©nh l·∫∑ng, t·∫≠p trung' },
        { name: 'Cafe The Hanoi Social Club', img: 'https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800&q=80', desc: 'Kh√¥ng gian c·ªông ƒë·ªìng, ·∫•m c√∫ng', price: '50k - 100k', menu: 'Cafe, ƒë·ªì ƒÉn T√¢y, cocktail', concept: 'Social hub, bohemian', style: 'Th√¢n thi·ªán, ƒëa vƒÉn h√≥a' }
      ],
      '·∫®m th·ª±c': [
        { name: 'B√∫n ch·∫£ H√†ng M√†nh', img: 'images/bunchad.jpg', desc: 'ƒê·∫∑c s·∫£n H√† N·ªôi n·ªïi ti·∫øng', price: '60k - 100k/ng∆∞·ªùi', menu: 'B√∫n ch·∫£, nem cua b·ªÉ', concept: 'Truy·ªÅn th·ªëng l√¢u ƒë·ªùi', style: 'S√¥i ƒë·ªông, b√¨nh d√¢n' },
        { name: 'Ph·ªü B√°t ƒê√†n', img: 'images/phobatdan.jpg', desc: 'M√≥n ƒÉn truy·ªÅn th·ªëng ngon', price: '50k - 70k/b√°t', menu: 'Ph·ªü b√≤ t√°i, ch√≠n', concept: 'Gia truy·ªÅn, x·∫øp h√†ng', style: 'Th∆∞·ªüng th·ª©c nhanh' },
        { name: 'Ph·ªü 10 L√Ω Qu·ªëc S∆∞', img: 'images/pholiquocsu.jpg', desc: 'Ph·ªü n·ªïi ti·∫øng, n∆∞·ªõc d√πng ƒë·∫≠m ƒë√†', price: '60k - 80k/b√°t', menu: 'Ph·ªü b√≤, ph·ªü g√†', concept: 'Gia truy·ªÅn, ƒë√¥ng kh√°ch', style: 'Nhanh g·ªçn, ngon mi·ªáng' },
        { name: 'Nem n∆∞·ªõng Nha Trang', img: 'https://images.unsplash.com/photo-1548545814-7494a86034f5?w=800&q=80', desc: 'M√≥n cu·ªën h·∫•p d·∫´n v·ªõi n∆∞·ªõc ch·∫•m ƒë·∫∑c bi·ªát', price: '60k - 100k/ng∆∞·ªùi', menu: 'Nem n∆∞·ªõng, ram, b√°nh tr√°ng', concept: 'Qu√°n ƒÉn v·∫∑t, t·ª• t·∫≠p', style: 'Tr·∫ª trung, tho·∫£i m√°i' },
        { name: 'B√°nh t√¥m H·ªì T√¢y', img: 'images/banhtomhotay.jpg', desc: 'ƒê·∫∑c s·∫£n b√°nh t√¥m gi√≤n r·ª•m b√™n H·ªì T√¢y', price: '150k - 250k/ng∆∞·ªùi', menu: 'B√°nh t√¥m, h√° c·∫£o, bia', concept: 'View H·ªì T√¢y l·ªông gi√≥', style: 'Th∆∞ gi√£n, ng·∫Øm c·∫£nh' },
        { name: 'Qu√°n n∆∞·ªõng ƒë∆∞·ªùng ph·ªë', img: 'images/quannuong.jpg', desc: '·∫®m th·ª±c ƒë∆∞·ªùng ph·ªë ƒëa d·∫°ng', price: '150k - 250k/ng∆∞·ªùi', menu: 'Th·ªãt n∆∞·ªõng, h·∫£i s·∫£n', concept: 'V·ªâa h√® tho√°ng m√°t', style: 'Nh·∫≠u nh·∫πt, vui v·∫ª' },
        { name: 'B√°nh m√¨ Ph·ªë Hu·∫ø', img: 'images/banhmi.jpg', desc: 'B√°nh m√¨ ngon nh·∫•t H√† N·ªôi', price: '25k - 40k/chi·∫øc', menu: 'B√°nh m√¨ th·∫≠p c·∫©m', concept: 'Mang ƒëi', style: 'Nhanh g·ªçn' },
        { name: 'Ch·∫£ c√° L√£ V·ªçng', img: 'images/chaca.jpg', desc: 'M√≥n ƒë·∫∑c s·∫£n ƒë·ªôc ƒë√°o', price: '150k - 300k/ng∆∞·ªùi', menu: 'Ch·∫£ c√° lƒÉng', concept: 'Nh√† h√†ng truy·ªÅn th·ªëng', style: 'Sang tr·ªçng ki·ªÉu c≈©' },
        { name: 'Nh√† h√†ng Qu√°n ƒÇn Ngon', img: 'images/quananngon.jpg', desc: 'T·ªïng h·ª£p ·∫©m th·ª±c Vi·ªát Nam', price: '200k - 400k/ng∆∞·ªùi', menu: 'M√≥n Vi·ªát 3 mi·ªÅn', concept: 'Bi·ªát th·ª± c·ªï, ch·ª£ qu√™', style: 'Sum h·ªçp, ƒëa d·∫°ng' }
      ],
      'Nhi·∫øp ·∫£nh': [
        { name: 'Ph·ªë c·ªï (H√†ng ƒê√†o, H√†ng Ngang)', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/phoco.jpg', desc: 'Kh√¥ng gian c·ªï k√≠nh, ƒë·∫ßy ch·∫•t th∆°', price: 'Mi·ªÖn ph√≠', concept: 'Ki·∫øn tr√∫c c·ªï', style: 'Street life' },
        { name: 'C·∫ßu Long Bi√™n', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/caulongbien.jpg', desc: 'C·∫£nh ƒë·∫πp ho√†ng h√¥n', price: 'Mi·ªÖn ph√≠', concept: 'Ho√†i ni·ªám, l·ªãch s·ª≠', style: 'Phong c·∫£nh, ch√¢n dung' },
        { name: 'H·ªì G∆∞∆°m l√∫c ho√†ng h√¥n', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/hoguom.jpg', desc: 'Khung c·∫£nh l√£ng m·∫°n', price: 'Mi·ªÖn ph√≠', concept: 'Thi√™n nhi√™n gi·ªØa ph·ªë', style: 'L√£ng m·∫°n' },
        { name: 'Ph·ªë Phan ƒê√¨nh Ph√πng', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/phodibo.jpg', desc: 'Con ƒë∆∞·ªùng ƒë·∫πp nh·∫•t H√† N·ªôi', price: 'Mi·ªÖn ph√≠', concept: 'H√†ng c√¢y c·ªï th·ª•', style: 'M√πa thu, √°o d√†i' },
        { name: 'H·ªì T√¢y', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/hotay.jpg', desc: 'H·ªì l·ªõn nh·∫•t H√† N·ªôi, c·∫£nh ƒë·∫πp b·ªën m√πa', price: 'Mi·ªÖn ph√≠', concept: 'Thi√™n nhi√™n, h·ªì n∆∞·ªõc', style: 'Phong c·∫£nh, ho√†ng h√¥n' },
        { name: 'Ch·ª£ ƒê·ªìng Xu√¢n', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/chodongxuan.jpg', desc: 'Ch·ª£ truy·ªÅn th·ªëng, ƒë·ªùi s·ªëng ƒë√¥ th·ªã', price: 'Mi·ªÖn ph√≠', concept: 'VƒÉn h√≥a ch·ª£ truy·ªÅn th·ªëng', style: 'Street photography, ƒë·ªùi th∆∞·ªùng' },
        { name: 'Ph·ªë H√†ng M√£', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/hangma.jpg', desc: 'Ph·ªë ƒë·∫ßy m√†u s·∫Øc, ƒë·∫∑c bi·ªát d·ªãp l·ªÖ t·∫øt', price: 'Mi·ªÖn ph√≠', concept: 'M√†u s·∫Øc r·ª±c r·ª°, vƒÉn h√≥a', style: 'Nhi·ªÅu m√†u s·∫Øc, s·ªëng ƒë·ªông' },
        { name: 'V∆∞·ªùn hoa L√Ω Th√°i T·ªï', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/lithaito.jpg', desc: 'C√¥ng vi√™n trung t√¢m, kh√¥ng gian xanh', price: 'Mi·ªÖn ph√≠', concept: 'C√¥ng vi√™n, t∆∞·ª£ng ƒë√†i', style: 'Xanh m√°t, l·ªãch s·ª≠' },
        { name: 'Ph·ªë T·∫° Hi·ªán v·ªÅ ƒë√™m', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/tahien.jpg', desc: 'Ph·ªë ph∆∞·ªùng s√¥i ƒë·ªông v·ªÅ ƒë√™m, √°nh s√°ng ƒë·∫πp', price: 'Mi·ªÖn ph√≠', concept: 'ƒê√™m H√† N·ªôi, s√¥i ƒë·ªông', style: 'Night photography, neon lights' }
      ],
      '√Çm nh·∫°c': [
        { name: 'T·∫° Hi·ªán Acoustic', img: 'amnhac/a84ca448282da773fe3c30.jpg', desc: 'Kh√¥ng kh√≠ √¢m nh·∫°c s·ªëng ƒë·ªông', price: '100k - 300k (ƒë·ªì u·ªëng)', menu: 'Bia, cocktail', concept: 'ƒê∆∞·ªùng ph·ªë, s√¥i ƒë·ªông', style: 'Acoustic, tr·∫ª trung' },
        { name: 'Binh Minh Jazz Club', img: 'amnhac/c108db0c5769d837817831.jpg', desc: 'Kh√¥ng gian jazz c·ªï ƒëi·ªÉn', price: '200k - 500k', menu: 'R∆∞·ª£u vang, cocktail', concept: 'Huy·ªÅn tho·∫°i Jazz', style: 'ƒê·∫≥ng c·∫•p, ngh·ªá thu·∫≠t' },
        { name: 'Polygon Musik', img: 'amnhac/c7a9bdad31c8be96e7d932.jpg', desc: 'Nh·∫°c s·ªëng ch·∫•t l∆∞·ª£ng', price: '150k - 300k', menu: 'ƒê·ªì u·ªëng ƒëa d·∫°ng', concept: 'Live music stage', style: 'S√¥i n·ªïi, ƒëam m√™' }
      ],
      'L√£ng m·∫°n': [
        { name: 'D·∫°o H·ªì Ho√†n Ki·∫øm', img: 'Cloud c·ªßa t√¥i [06-12-2025 20_02]/dibohoguom.jpg', desc: 'Kh√¥ng gian y√™n b√¨nh, l√£ng m·∫°n', price: 'Mi·ªÖn ph√≠', concept: 'ƒêi b·ªô, t√¢m t√¨nh', style: 'Nh·∫π nh√†ng' },
        { name: 'Summit Lounge', img: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&q=80', desc: 'View th√†nh ph·ªë tuy·ªát ƒë·∫πp', price: '200k - 500k', menu: 'Cocktail cao c·∫•p', concept: 'Rooftop sang ch·∫£nh', style: 'Sang tr·ªçng, h·∫πn h√≤' },
        { name: 'ƒêi thuy·ªÅn H·ªì T√¢y', img: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&q=80', desc: 'Ng·∫Øm ho√†ng h√¥n tr√™n h·ªì', price: '150k - 300k', concept: 'Thi√™n nhi√™n s√¥ng n∆∞·ªõc', style: 'Ri√™ng t∆∞' }
      ],
      'Th·ªÉ thao': [
        { name: 'ƒê·∫°p xe H·ªì T√¢y', img: 'https://images.unsplash.com/photo-1571068316344-75bc76f77890?w=800&q=80', desc: 'V·∫≠n ƒë·ªông vui v·∫ª', price: '50k - 100k/xe', concept: 'Ho·∫°t ƒë·ªông ngo√†i tr·ªùi', style: 'Kh·ªèe kho·∫Øn, th∆∞ gi√£n' },
        { name: 'Bowling Vincom', img: 'https://images.unsplash.com/photo-1511447333015-45b65e60f6d5?w=800&q=80', desc: 'Ho·∫°t ƒë·ªông gi·∫£i tr√≠ vui nh·ªôn', price: '100k - 200k/game', concept: 'Gi·∫£i tr√≠ trong nh√†', style: 'Vui v·∫ª, tranh t√†i' },
        { name: 'B∆°i l·ªôi t·∫°i b·ªÉ b∆°i', img: 'https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=800&q=80', desc: 'V·∫≠n ƒë·ªông to√†n th√¢n, m√°t m·∫ª', price: '50k - 100k/l∆∞·ª£t', concept: 'Th·ªÉ thao d∆∞·ªõi n∆∞·ªõc', style: 'Kh·ªèe kho·∫Øn, gi·∫£i nhi·ªát' },
        { name: 'Ch∆°i c·∫ßu l√¥ng ho·∫∑c tennis', img: 'https://images.unsplash.com/photo-1622163642999-9586a0b0d1d0?w=800&q=80', desc: 'Th·ªÉ thao ƒë·ªëi kh√°ng vui v·∫ª', price: '100k - 200k/s√¢n/gi·ªù', concept: 'Th·ªÉ thao ƒë·ªëi kh√°ng', style: 'NƒÉng ƒë·ªông, c·∫°nh tranh' },
        { name: 'Ch·∫°y b·ªô c√¥ng vi√™n', img: 'https://images.unsplash.com/photo-1571008887538-b36bb32f4571?w=800&q=80', desc: 'V·∫≠n ƒë·ªông nh·∫π nh√†ng, kh√¥ng kh√≠ trong l√†nh', price: 'Mi·ªÖn ph√≠', concept: 'Th·ªÉ thao ngo√†i tr·ªùi', style: 'Kh·ªèe kho·∫Øn, th∆∞ gi√£n' }
      ],
      'Shopping': [
        { name: 'Aeon Mall Long Bi√™n', img: 'https://images.unsplash.com/photo-1519567241046-7f570eee3ce6?w=800&q=80', desc: 'Shopping hi·ªán ƒë·∫°i', price: 'T√πy chi ti√™u', concept: 'Mall Nh·∫≠t B·∫£n', style: 'Ti·ªán nghi, hi·ªán ƒë·∫°i' },
        { name: 'Ph·ªë H√†ng B√¥ng', img: 'https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&q=80', desc: 'Mua s·∫Øm ƒë·ªì handmade', price: 'T√πy m√≥n', concept: 'Ph·ªë ngh·ªÅ l·ª•a', style: 'Tinh t·∫ø, truy·ªÅn th·ªëng' },
        { name: 'Trung t√¢m th∆∞∆°ng m·∫°i Vincom', img: 'https://images.unsplash.com/photo-1519567241046-7f570eee3ce6?w=800&q=80', desc: 'Shopping center l·ªõn, ƒëa d·∫°ng th∆∞∆°ng hi·ªáu', price: 'T√πy chi ti√™u', concept: 'Mall hi·ªán ƒë·∫°i', style: 'Sang tr·ªçng, ƒë·∫ßy ƒë·ªß' },
        { name: 'Lotte Center', img: 'https://images.unsplash.com/photo-1519567241046-7f570eee3ce6?w=800&q=80', desc: 'Trung t√¢m th∆∞∆°ng m·∫°i cao c·∫•p', price: 'T√πy chi ti√™u', concept: 'Mall cao c·∫•p', style: 'Sang tr·ªçng, view ƒë·∫πp' },
        { name: 'Ph·ªë H√†ng ƒê√†o', img: 'https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&q=80', desc: 'Ph·ªë mua s·∫Øm truy·ªÅn th·ªëng, ƒëa d·∫°ng', price: 'T√πy m√≥n', concept: 'Ph·ªë c·ªï, ƒëa d·∫°ng', style: 'Truy·ªÅn th·ªëng, s√¥i ƒë·ªông' },
        { name: 'Ph·ªë H√†ng Ngang', img: 'https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&q=80', desc: 'Ph·ªë c·ªï, mua s·∫Øm ƒë·ªì l∆∞u ni·ªám', price: 'T√πy m√≥n', concept: 'Ph·ªë c·ªï H√† N·ªôi', style: 'Truy·ªÅn th·ªëng, ƒë·∫∑c s·∫Øc' }
      ],
      'Thi√™n nhi√™n': [
        { name: 'C√¥ng vi√™n Y√™n S·ªü', img: 'https://images.unsplash.com/photo-1587974928442-77dc3e0dba72?w=800&q=80', desc: 'Kh√¥ng gian r·ªông l·ªõn', price: 'Mi·ªÖn ph√≠ v√†o c·ª≠a', concept: 'C·∫Øm tr·∫°i, picnic', style: 'Xanh m√°t, th∆∞ th√°i' },
        { name: 'V∆∞·ªùn B√°ch Th·∫£o', img: 'https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?w=800&q=80', desc: 'Kh√¥ng gian xanh y√™n tƒ©nh', price: '10k/v√©', concept: 'R·ª´ng trong ph·ªë', style: 'Y√™n b√¨nh, trong l√†nh' },
        { name: 'C√¥ng vi√™n Th·ªß L·ªá', img: 'https://images.unsplash.com/photo-1587974928442-77dc3e0dba72?w=800&q=80', desc: 'C√¥ng vi√™n c√≥ v∆∞·ªùn th√∫, kh√¥ng gian xanh', price: '30k - 50k/v√©', concept: 'C√¥ng vi√™n gi·∫£i tr√≠', style: 'Vui v·∫ª, thi√™n nhi√™n' },
        { name: 'H·ªì Tr√∫c B·∫°ch', img: 'https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800&q=80', desc: 'H·ªì ƒë·∫πp, kh√¥ng gian y√™n b√¨nh', price: 'Mi·ªÖn ph√≠', concept: 'H·ªì n∆∞·ªõc, thi√™n nhi√™n', style: 'Y√™n tƒ©nh, l√£ng m·∫°n' }
      ],
      'Gi·∫£i tr√≠': [
        { name: 'Escape Room', img: 'giaitri/escaperoom.jpg', desc: 'Th·ª≠ th√°ch gi·∫£i ƒë·ªë', price: '150k - 250k/ng∆∞·ªùi', concept: 'Tr√≤ ch∆°i tr√≠ tu·ªá', style: 'H·ªìi h·ªôp, k·ªãch t√≠nh' },
        { name: 'CGV Cinema', img: 'https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=800&q=80', desc: 'Xem phim bom t·∫•n', price: '100k - 250k/v√©', concept: 'R·∫°p chi·∫øu phim', style: 'Gi·∫£i tr√≠ ph·ªï bi·∫øn' },
        { name: 'Karaoke t·∫°i ph√≤ng ri√™ng', img: 'giaitri/karaoke.jpg', desc: 'H√°t karaoke ri√™ng t∆∞, vui v·∫ª', price: '200k - 500k/ph√≤ng/gi·ªù', concept: 'Gi·∫£i tr√≠ √¢m nh·∫°c', style: 'Vui v·∫ª, th√¢n m·∫≠t' },
        { name: 'Billiards', img: 'giaitri/billiards.jpg', desc: 'Ch∆°i bi-a, gi·∫£i tr√≠', price: '80k - 150k/b√†n/gi·ªù', concept: 'Tr√≤ ch∆°i trong nh√†', style: 'Tranh t√†i, th∆∞ gi√£n' },
        { name: 'VR Gaming', img: 'giaitri/vrgaming.jpg', desc: 'Tr·∫£i nghi·ªám th·ª±c t·∫ø ·∫£o', price: '150k - 300k/ng∆∞·ªùi', concept: 'C√¥ng ngh·ªá VR', style: 'Hi·ªán ƒë·∫°i, h·∫•p d·∫´n' },
        { name: 'Board Game Cafe', img: 'giaitri/boardgame.jpg', desc: 'Ch∆°i board game, tr√≤ chuy·ªán', price: '50k - 100k/ng∆∞·ªùi', menu: 'Cafe, ƒë·ªì u·ªëng', concept: 'Tr√≤ ch∆°i b√†n c·ªù', style: 'Vui v·∫ª, t∆∞∆°ng t√°c' },
        { name: 'C√¥ng vi√™n n∆∞·ªõc', img: 'https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=800&q=80', desc: 'Vui ch∆°i d∆∞·ªõi n∆∞·ªõc, gi·∫£i nhi·ªát', price: '150k - 300k/ng∆∞·ªùi', concept: 'C√¥ng vi√™n gi·∫£i tr√≠', style: 'Vui v·∫ª, m√°t m·∫ª' }
      ],
      'Ngh·ªá thu·∫≠t': [
        { name: 'VCCA Vincom', img: 'https://images.unsplash.com/photo-1561214115-f2f134cc4912?w=800&q=80', desc: 'Tri·ªÉn l√£m ƒë∆∞∆°ng ƒë·∫°i', price: 'Mi·ªÖn ph√≠', concept: 'Ngh·ªá thu·∫≠t hi·ªán ƒë·∫°i', style: 'S√¢u s·∫Øc, check-in ƒë·∫πp' },
        { name: 'Manzi Art Space', img: 'ngh·ªá thu·∫≠t/manziartspace.jpg', desc: 'Cafe v√† tranh', price: '50k - 100k', menu: 'Cafe, tr√†, r∆∞·ª£u', concept: 'Bi·ªát th·ª± Ph√°p c·ªï', style: 'Ngh·ªá thu·∫≠t, tƒ©nh l·∫∑ng' },
        { name: 'Tri·ªÉn l√£m ngh·ªá thu·∫≠t', img: 'ngh·ªá thu·∫≠t/trienlam.jpg', desc: 'Xem c√°c t√°c ph·∫©m ngh·ªá thu·∫≠t ƒë∆∞∆°ng ƒë·∫°i', price: 'Mi·ªÖn ph√≠ - 100k/v√©', concept: 'Ngh·ªá thu·∫≠t ƒë∆∞∆°ng ƒë·∫°i', style: 'S√¢u s·∫Øc, h·ªçc h·ªèi' },
        { name: 'Workshop l√†m g·ªëm', img: 'ngh·ªá thu·∫≠t/lamgom.jpg', desc: 'H·ªçc l√†m g·ªëm, s√°ng t·∫°o', price: '200k - 400k/ng∆∞·ªùi', concept: 'Th·ªß c√¥ng, s√°ng t·∫°o', style: 'T∆∞∆°ng t√°c, th√∫ v·ªã' },
        { name: 'Xem k·ªãch ho·∫∑c nh·∫°c k·ªãch', img: 'ngh·ªá thu·∫≠t/nhackich.jpg', desc: 'Th∆∞·ªüng th·ª©c ngh·ªá thu·∫≠t s√¢n kh·∫•u', price: '200k - 800k/v√©', concept: 'Ngh·ªá thu·∫≠t s√¢n kh·∫•u', style: 'VƒÉn h√≥a, sang tr·ªçng' }
      ]
    };

    function updateSelectedInterestsDisplay() {
      const container = document.getElementById('selectedInterests');
      const emptyMsg = document.getElementById('emptyInterestMsg');

      // Clear current chips but keep the empty message element (hidden or shown based on set size)
      container.innerHTML = '<span style="width: 100%; color: var(--text-light); font-size: 13px; font-style: italic; display: none;" id="emptyInterestMsg">Ch∆∞a ch·ªçn s·ªü th√≠ch n√†o</span>';

      if (selectedInterests.size === 0) {
        document.getElementById('emptyInterestMsg').style.display = 'block';
      } else {
        selectedInterests.forEach(interest => {
          const chip = document.createElement('span');
          chip.className = 'chip';
          chip.style.margin = '0';
          chip.style.cursor = 'pointer';
          chip.title = 'Nh·∫•n ƒë·ªÉ b·ªè ch·ªçn';
          chip.innerHTML = `${interest} &times;`;
          chip.onclick = () => toggleInterest(interest);
          container.appendChild(chip);
        });
      }

      // Update button states
      document.querySelectorAll('.interest-btn').forEach(btn => {
        const interest = btn.getAttribute('data-interest');
        if (selectedInterests.has(interest)) {
          btn.classList.remove('secondary');
          btn.style.boxShadow = 'inset 0 2px 4px rgba(0,0,0,0.1)';
        } else {
          btn.classList.add('secondary');
          btn.style.boxShadow = '';
        }
      });
    }

    function toggleInterest(text) {
      if (selectedInterests.has(text)) {
        selectedInterests.delete(text);
      } else {
        selectedInterests.add(text);
      }
      updateSelectedInterestsDisplay();
    }

    // Add event listeners for interest buttons
    document.addEventListener('DOMContentLoaded', function () {
      document.querySelectorAll('.interest-btn').forEach(btn => {
        btn.addEventListener('click', function () {
          toggleInterest(this.getAttribute('data-interest'));
        });
      });
    });

    function clearForm() {
      ['name1', 'name2', 'date', 'time', 'notes'].forEach(id => document.getElementById(id).value = '');
      selectedInterests.clear();
      updateSelectedInterestsDisplay();
      document.getElementById('duration').value = 'half';
      document.getElementById('budget').value = 'medium';
      document.getElementById('vibe').value = 'relaxed';
      document.getElementById('badges').innerHTML = '';
      document.getElementById('output').innerHTML = '<div class="result">Nh·∫•n "T·∫°o k·∫ø ho·∫°ch" ƒë·ªÉ nh·∫≠n l·ªãch tr√¨nh h·∫πn h√≤.</div>';
      document.getElementById('summary').style.display = 'none';
    }

    function generatePlan() {
      const name1 = document.getElementById('name1').value.trim();
      const name2 = document.getElementById('name2').value.trim();
      let names = 'B·∫°n & Ng∆∞·ªùi ·∫•y';
      if (name1 && name2) {
        names = `${name1} & ${name2}`;
      } else if (name1) {
        names = `${name1} & Ng∆∞·ªùi ·∫•y`;
      } else if (name2) {
        names = `B·∫°n & ${name2}`;
      }
      const dateInput = document.getElementById('date').value;
      const timeInput = document.getElementById('time').value;
      let datetime = 'Ch∆∞a ch·ªçn th·ªùi gian c·ª• th·ªÉ';
      if (dateInput && timeInput) {
        const date = new Date(dateInput + 'T' + timeInput);
        const days = ['Ch·ªß nh·∫≠t', 'Th·ª© 2', 'Th·ª© 3', 'Th·ª© 4', 'Th·ª© 5', 'Th·ª© 6', 'Th·ª© 7'];
        const dayName = days[date.getDay()];
        const hours = date.getHours();
        const minutes = date.getMinutes().toString().padStart(2, '0');
        const timeStr = `${hours}:${minutes}`;
        datetime = `${dayName}, ${date.toLocaleDateString('vi-VN')} l√∫c ${timeStr}`;
      }
      const duration = document.getElementById('duration').value;
      const budget = document.getElementById('budget').value;
      const vibe = document.getElementById('vibe').value;
      const notes = document.getElementById('notes').value;

      const interests = Array.from(selectedInterests);

      // show badges
      const badges = document.getElementById('badges'); badges.innerHTML = '';
      if (interests.length) interests.forEach(i => { const c = document.createElement('span'); c.className = 'chip'; c.textContent = i; badges.appendChild(c) });

      // S·ª≠ d·ª•ng danh s√°ch ƒë·ªãa ƒëi·ªÉm global 'places'







      // H√†m t√¨m danh m·ª•c t·ª´ s·ªü th√≠ch
      function findCategoryFromInterest(interest) {
        const interestLower = interest.toLowerCase();
        // T√¨m tr·ª±c ti·∫øp trong t√™n danh m·ª•c
        for (const cat in places) {
          if (interestLower.includes(cat.toLowerCase()) || cat.toLowerCase().includes(interestLower)) {
            return cat;
          }
        }
        return null;
      }

      // H√†m ch·ªçn ƒë·ªãa ƒëi·ªÉm ng·∫´u nhi√™n t·ª´ danh m·ª•c
      function pickRandomFromCategory(category) {
        if (places[category] && places[category].length > 0) {
          const options = places[category];
          return options[Math.floor(Math.random() * options.length)];
        }
        return null;
      }

      // H√†m ch·ªçn ƒë·ªãa ƒëi·ªÉm d·ª±a tr√™n s·ªü th√≠ch, tr√°nh tr√πng l·∫∑p
      const usedPlaces = new Set();
      function pickUniqueByInterest(interestList, preferredCategories = []) {
        // T·∫°o danh s√°ch danh m·ª•c t·ª´ s·ªü th√≠ch
        const allCategories = [];

        // Th√™m c√°c danh m·ª•c t·ª´ preferredCategories
        preferredCategories.forEach(cat => {
          if (places[cat] && !allCategories.includes(cat)) {
            allCategories.push(cat);
          }
        });

        // Th√™m c√°c danh m·ª•c t·ª´ interestList
        interestList.forEach(interest => {
          const cat = findCategoryFromInterest(interest);
          if (cat && places[cat] && !allCategories.includes(cat)) {
            allCategories.push(cat);
          }
        });

        // N·∫øu kh√¥ng c√≥ danh m·ª•c ∆∞u ti√™n, ch·ªçn ng·∫´u nhi√™n t·ª´ t·∫•t c·∫£
        if (allCategories.length === 0) {
          const categories = Object.keys(places);
          allCategories.push(...categories);
        }

        // Tr·ªôn ng·∫´u nhi√™n danh m·ª•c ƒë·ªÉ ƒëa d·∫°ng
        for (let i = allCategories.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [allCategories[i], allCategories[j]] = [allCategories[j], allCategories[i]];
        }

        // Th·ª≠ ch·ªçn t·ª´ c√°c danh m·ª•c, tr√°nh tr√πng l·∫∑p
        for (const cat of allCategories) {
          const availablePlaces = places[cat].filter(p => !usedPlaces.has(p.name));
          if (availablePlaces.length > 0) {
            const place = availablePlaces[Math.floor(Math.random() * availablePlaces.length)];
            usedPlaces.add(place.name);
            return place;
          }
        }

        // N·∫øu t·∫•t c·∫£ ƒë√£ d√πng, reset v√† ch·ªçn l·∫°i
        if (usedPlaces.size > 50) usedPlaces.clear();

        // Ch·ªçn ng·∫´u nhi√™n t·ª´ t·∫•t c·∫£
        const allPlaces = [].concat(...Object.values(places));
        const randomPlace = allPlaces[Math.floor(Math.random() * allPlaces.length)];
        usedPlaces.add(randomPlace.name);
        return randomPlace;
      }

      // X√°c ƒë·ªãnh danh m·ª•c ∆∞u ti√™n t·ª´ s·ªü th√≠ch
      const preferredCategories = [];
      interests.forEach(interest => {
        const cat = findCategoryFromInterest(interest);
        if (cat && !preferredCategories.includes(cat)) {
          preferredCategories.push(cat);
        }
      });

      currentActivities = [];
      const activities = currentActivities;
      let summaryText = '';
      let totalMinutes = 0;

      // T√≠nh th·ªùi gian d·ª±a tr√™n duration
      const durationMinutes = {
        'half': 150,      // 2.5 gi·ªù
        'halfday': 300,   // 5 gi·ªù
        'fullday': 540,   // 9 gi·ªù
        'evening': 180    // 3 gi·ªù
      };
      const maxMinutes = durationMinutes[duration] || 180;

      if (duration === 'half') {
        // 2-3 ho·∫°t ƒë·ªông cho cu·ªôc h·∫πn ng·∫Øn
        const act1 = pickUniqueByInterest(interests, preferredCategories);
        const time1 = 60;
        activities.push({
          step: 1,
          title: 'B·∫Øt ƒë·∫ßu',
          place: act1.name,
          desc: act1.desc || 'G·∫∑p g·ª°, tr√≤ chuy·ªán',
          time: `${time1} ph√∫t`,
          img: act1.img,
          detail: 'Kh√¥ng gian ·∫•m c√∫ng, th√≠ch h·ª£p ƒë·ªÉ tr√≤ chuy·ªán v√† l√†m quen.'
        });
        totalMinutes += time1;

        if (totalMinutes < maxMinutes - 60) {
          const act2 = pickUniqueByInterest(interests, preferredCategories);
          const time2 = Math.min(45, maxMinutes - totalMinutes - 30);
          activities.push({
            step: 2,
            title: 'Ho·∫°t ƒë·ªông',
            place: act2.name,
            desc: act2.desc || 'Tr·∫£i nghi·ªám th√∫ v·ªã',
            time: `${time2} ph√∫t`,
            img: act2.img,
            detail: 'Kh√¥ng gian y√™n b√¨nh, nhi·ªÅu g√≥c ch·ª•p ·∫£nh ƒë·∫πp ƒë·ªÉ l∆∞u gi·ªØ k·ª∑ ni·ªám.'
          });
          totalMinutes += time2;
        }

        if (budget !== 'low' && totalMinutes < maxMinutes - 30) {
          const act3 = pickUniqueByInterest(['·∫©m th·ª±c', 'ƒÉn'], ['·∫®m th·ª±c']);
          const time3 = Math.min(45, maxMinutes - totalMinutes);
          activities.push({
            step: 3,
            title: 'K·∫øt th√∫c',
            place: act3.name,
            desc: act3.desc || 'Th∆∞·ªüng th·ª©c ·∫©m th·ª±c',
            time: `${time3} ph√∫t`,
            img: act3.img,
            detail: 'Th∆∞·ªüng th·ª©c h∆∞∆°ng v·ªã ·∫©m th·ª±c ƒë·∫∑c s·∫Øc.'
          });
        }
        summaryText = 'Th·ªùi l∆∞·ª£ng: 2-3 gi·ªù ‚Äî ph√π h·ª£p cho bu·ªïi t·ªëi nh·∫π nh√†ng ho·∫∑c chi·ªÅu cu·ªëi tu·∫ßn.';
      } else if (duration === 'halfday') {
        // 3-4 ho·∫°t ƒë·ªông cho n·ª≠a ng√†y
        const act1 = pickUniqueByInterest(interests, preferredCategories);
        const time1 = 90;
        activities.push({
          step: 1,
          title: 'B·∫Øt ƒë·∫ßu',
          place: act1.name,
          desc: act1.desc || 'ThƒÉm quan, ch·ª•p ·∫£nh, t√¨m hi·ªÉu',
          time: `${time1} ph√∫t`,
          img: act1.img,
          detail: 'C√πng nhau kh√°m ph√° v·∫ª ƒë·∫πp vƒÉn h√≥a v√† l·ªãch s·ª≠.'
        });
        totalMinutes += time1;

        const act2 = pickUniqueByInterest(['·∫©m th·ª±c', 'ƒÉn'], ['·∫®m th·ª±c']);
        const time2 = 60;
        activities.push({
          step: 2,
          title: 'ƒÇn tr∆∞a',
          place: act2.name,
          desc: act2.desc || 'Th∆∞·ªüng th·ª©c ·∫©m th·ª±c',
          time: `${time2} ph√∫t`,
          img: act2.img,
          detail: 'Ngh·ªâ ng∆°i v√† th∆∞·ªüng th·ª©c c√°c m√≥n ƒÉn ngon mi·ªáng.'
        });
        totalMinutes += time2;

        const act3 = pickUniqueByInterest(interests.length > 0 ? interests : ['l√£ng m·∫°n', 'thi√™n nhi√™n'], preferredCategories.length > 0 ? preferredCategories : ['L√£ng m·∫°n', 'Thi√™n nhi√™n']);
        const time3 = Math.min(90, maxMinutes - totalMinutes);
        activities.push({
          step: 3,
          title: 'Bu·ªïi chi·ªÅu',
          place: act3.name,
          desc: act3.desc || 'Th∆∞ gi√£n, ng·∫Øm c·∫£nh',
          time: `${time3} ph√∫t`,
          img: act3.img,
          detail: 'T·∫≠n h∆∞·ªüng kh√¥ng kh√≠ l√£ng m·∫°n v√† c·∫£nh quan tuy·ªát ƒë·∫πp.'
        });
        summaryText = 'Th·ªùi l∆∞·ª£ng: N·ª≠a ng√†y ‚Äî ph√π h·ª£p cho s√°ng ho·∫∑c chi·ªÅu tr·ªçn v·∫πn.';
      } else if (duration === 'fullday') {
        // 4-5 ho·∫°t ƒë·ªông cho c·∫£ ng√†y
        const act1 = pickUniqueByInterest(['vƒÉn h√≥a', 'nhi·∫øp ·∫£nh'], ['VƒÉn h√≥a', 'Nhi·∫øp ·∫£nh']);
        const time1 = 120;
        activities.push({
          step: 1,
          title: 'S√°ng',
          place: act1.name,
          desc: act1.desc || 'Tham quan, ch·ª•p ·∫£nh',
          time: `${time1} ph√∫t`,
          img: act1.img,
          detail: 'D√†nh bu·ªïi s√°ng ƒë·ªÉ tham quan c√°c ƒë·ªãa danh vƒÉn h√≥a.'
        });
        totalMinutes += time1;

        const act2 = pickUniqueByInterest(['·∫©m th·ª±c', 'ƒÉn'], ['·∫®m th·ª±c']);
        const time2 = 90;
        activities.push({
          step: 2,
          title: 'Tr∆∞a',
          place: act2.name,
          desc: act2.desc || 'Th∆∞·ªüng th·ª©c ·∫©m th·ª±c',
          time: `${time2} ph√∫t`,
          img: act2.img,
          detail: 'N·∫°p nƒÉng l∆∞·ª£ng v·ªõi b·ªØa tr∆∞a ngon mi·ªáng.'
        });
        totalMinutes += time2;

        const act3 = pickUniqueByInterest(['thi√™n nhi√™n', 'th·ªÉ thao', 'cafe'], ['Thi√™n nhi√™n', 'Th·ªÉ thao', 'Cafe & chill']);
        const time3 = 120;
        activities.push({
          step: 3,
          title: 'Chi·ªÅu',
          place: act3.name,
          desc: act3.desc || 'Ho·∫°t ƒë·ªông vui v·∫ª',
          time: `${time3} ph√∫t`,
          img: act3.img,
          detail: 'Tham gia c√°c ho·∫°t ƒë·ªông gi·∫£i tr√≠ ho·∫∑c th∆∞ gi√£n ngo√†i tr·ªùi.'
        });
        totalMinutes += time3;

        const act4 = pickUniqueByInterest(['l√£ng m·∫°n', '·∫©m th·ª±c'], ['L√£ng m·∫°n', '·∫®m th·ª±c']);
        const time4 = Math.min(150, maxMinutes - totalMinutes);
        activities.push({
          step: 4,
          title: 'T·ªëi',
          place: act4.name,
          desc: act4.desc || 'ƒÇn t·ªëi l√£ng m·∫°n',
          time: `${time4} ph√∫t`,
          img: act4.img,
          detail: 'K·∫øt th√∫c ng√†y b·∫±ng b·ªØa t·ªëi trong kh√¥ng gian l√£ng m·∫°n.'
        });
        summaryText = 'Th·ªùi l∆∞·ª£ng: C·∫£ ng√†y ‚Äî kh√°m ph√° nhi·ªÅu ƒëi·ªÉm, ph√π h·ª£p cho ng√†y l·ªÖ ho·∫∑c sinh nh·∫≠t.';
      } else if (duration === 'evening') {
        // 2-3 ho·∫°t ƒë·ªông cho bu·ªïi t·ªëi
        const act1 = pickUniqueByInterest(['·∫©m th·ª±c', 'l√£ng m·∫°n'], ['·∫®m th·ª±c', 'L√£ng m·∫°n']);
        const time1 = 120;
        activities.push({
          step: 1,
          title: 'B·∫Øt ƒë·∫ßu',
          place: act1.name,
          desc: act1.desc || 'Th∆∞·ªüng th·ª©c ·∫©m th·ª±c',
          time: `${time1} ph√∫t`,
          img: act1.img,
          detail: 'B·∫Øt ƒë·∫ßu bu·ªïi t·ªëi v·ªõi ·∫©m th·ª±c ngon v√† kh√¥ng gian ƒë·∫πp.'
        });
        totalMinutes += time1;

        const act2 = pickUniqueByInterest(['l√£ng m·∫°n', 'cafe', '√¢m nh·∫°c'], ['L√£ng m·∫°n', 'Cafe & chill', '√Çm nh·∫°c']);
        const time2 = Math.min(90, maxMinutes - totalMinutes);
        activities.push({
          step: 2,
          title: 'Sau ƒë√≥',
          place: act2.name,
          desc: act2.desc || 'Th∆∞ gi√£n, tr√≤ chuy·ªán',
          time: `${time2} ph√∫t`,
          img: act2.img,
          detail: 'D√†nh th·ªùi gian ri√™ng t∆∞, th∆∞ gi√£n v√† tr√≤ chuy·ªán.'
        });
        summaryText = 'Th·ªùi l∆∞·ª£ng: Bu·ªïi t·ªëi ‚Äî ch√∫ tr·ªçng ƒÉn u·ªëng v√† kh√¥ng kh√≠ l√£ng m·∫°n.';
      }

      // Enrich activities with extra details (price, menu, etc.)
      activities.forEach(act => {
        let foundPlace = null;
        for (const cat in places) {
          const match = places[cat].find(p => p.name === act.place);
          if (match) { foundPlace = match; break; }
        }
        if (foundPlace) {
          act.price = foundPlace.price;
          act.menu = foundPlace.menu;
          act.concept = foundPlace.concept;
          act.style = foundPlace.style;
        }
      });

      // Build HTML for activities
      const output = document.getElementById('output');
      output.innerHTML = '';

      activities.forEach((act, idx) => {
        const card = document.createElement('div');
        card.className = 'plan-card';
        card.onclick = () => openModal(idx);
        card.innerHTML = `
          <img src="${act.img}" alt="${act.place}" />
          <div class="plan-card-content">
            <h4>${act.step}) ${act.title}: ${act.place}</h4>
            <p>${act.desc}</p>
            <div style="font-size: 13px; color: #666; border-top: 1px dashed #eee; padding-top: 8px; margin-top: 8px; display: grid; gap: 4px;">
               ${act.price ? `<div><strong>Gi√°:</strong> ${act.price}</div>` : ''}
               ${act.concept ? `<div><strong>Concept:</strong> ${act.concept}</div>` : ''}
               ${act.style ? `<div><strong>Style:</strong> ${act.style}</div>` : ''}
            </div>
            <span class="time-badge" style="margin-top:8px; display:inline-block">‚è∞ ${act.time}</span>
          </div>
        `;
        output.appendChild(card);
      });

      // Build additional info strings
      let vibeHint = '';
      if (vibe === 'romantic') vibeHint = 'Chu·∫©n b·ªã m·ªôt l·ªùi ch√∫c nh·ªè ho·∫∑c m·ªôt m√≥n qu√† nh·ªè, ch·ªçn ch·ªó c√≥ view/√°nh s√°ng d·ªãu.';
      if (vibe === 'adventure') vibeHint = 'Th√™m ho·∫°t ƒë·ªông tr·∫£i nghi·ªám nh∆∞ thu√™ xe ƒë·∫°p, escape room ho·∫∑c l·ªõp h·ªçc n·∫•u ƒÉn ng·∫Øn.';
      if (vibe === 'foodie') vibeHint = 'L√™n danh s√°ch 2-3 qu√°n ƒë·ªÉ l·ª±a ch·ªçn, ∆∞u ti√™n qu√°n c√≥ review t·ªët.';

      let budgetHint = '';
      if (budget === 'low') budgetHint = 'Ti·∫øt ki·ªám ‚Äî ∆∞u ti√™n street food, qu√°n c√† ph√™ gi√° r·∫ª, d·∫°o b·ªô nhi·ªÅu h∆°n ƒëi taxi.';
      if (budget === 'medium') budgetHint = 'Trung b√¨nh ‚Äî k·∫øt h·ª£p qu√°n ƒë·∫∑c s·∫£n v√† m·ªôt qu√°n c√≥ kh√¥ng gian t·ªët.';
      if (budget === 'high') budgetHint = 'Cao c·∫•p ‚Äî g·ª£i √Ω nh√† h√†ng rooftop, cocktail bar, ho·∫∑c tr·∫£i nghi·ªám c√≥ ph√≠.';

      const checklist = 'X√°c nh·∫≠n gi·ªù, mang ƒëi·ªán tho·∫°i + s·∫°c, trang ph·ª•c ph√π h·ª£p, √°o kho√°c m·ªèng n·∫øu c·∫ßn.';
      const advice = 'N·∫øu l√† d·ªãp ƒë·∫∑c bi·ªát, ƒë·∫∑t ch·ªó tr∆∞·ªõc. H·ªèi v·ªÅ d·ªã ·ª©ng/ƒÉn chay.';

      // Build summary HTML for checking
      let summaryHTML = `<div class="summary-card">
        <h3>T·ªïng h·ª£p k·∫ø ho·∫°ch h·∫πn h√≤</h3>
        <p><strong>Cho:</strong> ${names}</p>
        <p><strong>Th·ªùi gian:</strong> ${datetime}</p>
        <p><strong>Th·ªùi l∆∞·ª£ng:</strong> ${summaryText.replace('Th·ªùi l∆∞·ª£ng: ', '')}</p>
        <p><strong>Ghi ch√∫:</strong> ${notes || 'Kh√¥ng c√≥'}</p>`;

      if (vibeHint) summaryHTML += `<p><strong>G·ª£i √Ω:</strong> ${vibeHint}</p>`;
      if (budgetHint) summaryHTML += `<p><strong>Ng√¢n s√°ch:</strong> ${budgetHint}</p>`;

      summaryHTML += `<p><strong>Checklist:</strong> ${checklist}</p>`;
      summaryHTML += `<p><strong>M·∫πo:</strong> ${advice}</p></div>`;

      const summaryDiv = document.getElementById('summary');
      summaryDiv.innerHTML = summaryHTML;
      summaryDiv.style.display = 'block';

      // Store plan text for copy
      let planText = `K·∫ø ho·∫°ch h·∫πn h√≤ cho ${names}\nTh·ªùi gian: ${datetime}\nGhi ch√∫: ${notes || 'Kh√¥ng c√≥'}\n---\n${summaryText}\n`;
      if (vibeHint) planText += `\n${vibeHint}`;
      if (budgetHint) planText += `\n${budgetHint}`;
      planText += `\n${checklist}\n${advice}\n\nL·ªäCH TR√åNH CHI TI·∫æT:\n`;

      let fullHtml = `<h1 style="color:#ff6b9d">K·∫ø ho·∫°ch h·∫πn h√≤ cho ${names}</h1>
                      <p><strong>Th·ªùi gian:</strong> ${datetime}</p>
                      <p><strong>Ghi ch√∫:</strong> ${notes || 'Kh√¥ng c√≥'}</p>
                      <hr style="border:0; border-top:1px dashed #ffb3d1; margin: 20px 0;"/>
                      <p><strong>Th·ªùi l∆∞·ª£ng:</strong> ${summaryText.replace('Th·ªùi l∆∞·ª£ng: ', '')}</p>`;
      if (vibeHint) fullHtml += `<p><strong>G·ª£i √Ω:</strong> ${vibeHint}</p>`;
      if (budgetHint) fullHtml += `<p><strong>Ng√¢n s√°ch:</strong> ${budgetHint}</p>`;
      fullHtml += `<p><strong>Checklist:</strong> ${checklist}</p>`;
      fullHtml += `<p><strong>M·∫πo:</strong> ${advice}</p>
                   <hr style="border:0; border-top:1px dashed #ffb3d1; margin: 20px 0;"/>`;

      activities.forEach(act => {
        planText += `${act.step}) ${act.title}: ${act.place}\n   - ${act.desc}\n`;
        if (act.price) planText += `   - Gi√°: ${act.price}\n`;
        if (act.concept) planText += `   - Concept: ${act.concept}\n`;
        planText += `   - ${act.detail}\n   - Th·ªùi gian: ${act.time}\n\n`;

        fullHtml += `<div class="plan-card">
          <h3 style="color:#ff6b9d">${act.step}) ${act.title}: ${act.place}</h3>
          <p><strong>M√¥ t·∫£:</strong> ${act.desc}</p>
          ${act.price ? `<p><strong>Gi√°:</strong> ${act.price}</p>` : ''}
          ${act.concept ? `<p><strong>Concept:</strong> ${act.concept}</p>` : ''}
          ${act.style ? `<p><strong>Style:</strong> ${act.style}</p>` : ''}
          <p><strong>Chi ti·∫øt:</strong> ${act.detail}</p>
          <p><strong>Th·ªùi gian:</strong> ${act.time}</p>
        </div>`;
      });

      output.dataset.planText = planText;
      output.dataset.fullHtml = fullHtml;

      // Auto scroll to results
      const previewSection = document.getElementById('preview');
      if (previewSection) {
        const yOffset = -200;
        const y = previewSection.getBoundingClientRect().top + window.pageYOffset + yOffset;
        window.scrollTo({ top: y, behavior: 'smooth' });
      }

      // Auto open first activity
      if (currentActivities.length > 0) {
        setTimeout(() => openModal(0), 600);
      }
    }

    let currentModalIndex = -1;

    function openModal(index) {
      if (index < 0 || index >= currentActivities.length) return;
      currentModalIndex = index;
      const activity = currentActivities[index];

      const modal = document.getElementById('modal');
      const modalBody = document.getElementById('modal-body');

      // Update arrows
      const prevBtn = modal.querySelector('.nav-arrow.prev');
      const nextBtn = modal.querySelector('.nav-arrow.next');

      if (prevBtn) prevBtn.style.display = index > 0 ? 'flex' : 'none';
      if (nextBtn) nextBtn.style.display = index < currentActivities.length - 1 ? 'flex' : 'none';

      // Bottom navigation buttons
      let navButtons = '<div class="modal-nav">';

      // Previous button
      if (index > 0) {
        navButtons += `<button class="btn secondary" onclick="navigateModal(-1)">‚¨Ö Quay l·∫°i</button>`;
      } else {
        navButtons += `<div></div>`; // Spacer
      }

      // Next button
      if (index < currentActivities.length - 1) {
        navButtons += `<button class="btn" onclick="navigateModal(1)">Ho·∫°t ƒë·ªông ti·∫øp theo ‚û°</button>`;
      } else {
        navButtons += `<div></div>`; // Spacer
      }
      navButtons += '</div>';

      modalBody.innerHTML = `
        <img src="${activity.img}" alt="${activity.place}" />
        <h2 style="color:var(--accent);margin:0 0 12px 0">${activity.step}) ${activity.title}</h2>
        <h3 style="margin:0 0 8px 0;color:#333">${activity.place}</h3>
        <p style="color:#666;margin:8px 0">${activity.desc}</p>
        <div style="background:#fff9fb; padding:12px; border-radius:8px; border:1px dashed #ffb3d1; margin: 12px 0; font-size: 14px;">
           ${activity.price ? `<p style="margin:4px 0"><strong>üí∞ Gi√°:</strong> ${activity.price}</p>` : ''}
           ${activity.concept ? `<p style="margin:4px 0"><strong>‚ú® Concept:</strong> ${activity.concept}</p>` : ''}
           ${activity.style ? `<p style="margin:4px 0"><strong>üé® Style:</strong> ${activity.style}</p>` : ''}
           ${activity.menu ? `<p style="margin:4px 0"><strong>üçΩ Menu:</strong> ${activity.menu}</p>` : ''}
           <p style="margin:4px 0"><strong>‚è∞ Th·ªùi gian:</strong> ${activity.time}</p>
        </div>
        <p style="color:#555;margin:12px 0;line-height:1.6"><strong>Chi ti·∫øt:</strong> ${activity.detail}</p>
        ${navButtons}
      `;
      modal.classList.add('active');
    }

    function navigateModal(step) {
      const newIndex = currentModalIndex + step;
      if (newIndex >= 0 && newIndex < currentActivities.length) {
        openModal(newIndex);
      }
    }

    function closeModal() {
      document.getElementById('modal').classList.remove('active');
    }

    document.getElementById('modal').addEventListener('click', function (e) {
      if (e.target === this) closeModal();
    });

    function copyPlan() {
      const output = document.getElementById('output');
      const planText = output.dataset.planText || output.textContent || output.innerText;
      navigator.clipboard.writeText(planText).then(() => alert('ƒê√£ sao ch√©p k·∫ø ho·∫°ch v√†o b·ªô nh·ªõ t·∫°m.'), () => alert('Kh√¥ng th·ªÉ sao ch√©p ‚Äî vui l√≤ng sao ch√©p th·ªß c√¥ng.'));
    }

    function downloadDoc() {
      const output = document.getElementById('output');
      const docContent = output.dataset.fullHtml;

      const preHtml = `<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
      <head>
        <meta charset='utf-8'>
        <title>K·∫ø ho·∫°ch h·∫πn h√≤</title>
        <style>
          body {
            font-family: 'Times New Roman', serif;
            font-size: 18px;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
          }
          h1 {
            font-family: 'Times New Roman', serif;
            color: #ff6b9d;
            font-size: 32px;
            text-align: center;
            margin-bottom: 24px;
          }
          h3 {
            font-family: 'Times New Roman', serif;
            color: #ff6b9d;
            font-size: 24px;
            margin-top: 24px;
            margin-bottom: 12px;
          }
          .plan-card {
            border: 1px solid #ffeef5;
            background: #fff9fb;
            padding: 16px;
            margin-bottom: 20px;
            border-radius: 8px;
          }
          strong {
            color: #a8556f;
          }
          p {
            margin: 8px 0;
          }
        </style>
      </head>
      <body>`;
      const postHtml = "</body></html>";
      const html = preHtml + docContent + postHtml;

      const blob = new Blob(['\ufeff', html], {
        type: 'application/msword'
      });

      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'ke_hoach_hen_ho.doc';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    }

    // Render all locations on load
    // Render filter buttons
    function renderLocationFilters() {
      const container = document.getElementById('location-filters');
      const categories = ['T·∫•t c·∫£', ...Object.keys(places)];

      container.innerHTML = '';
      categories.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'btn secondary';
        btn.style.margin = '0';
        btn.innerText = cat;
        if (cat === 'T·∫•t c·∫£') {
          btn.classList.remove('secondary'); // Active state logic
        }

        btn.onclick = () => {
          // Update visual state
          Array.from(container.children).forEach(b => b.classList.add('secondary'));
          btn.classList.remove('secondary');

          // Filter content
          renderAllLocations(cat === 'T·∫•t c·∫£' ? null : cat);
        };
        container.appendChild(btn);
      });
    }

    // Render all locations with optional filter
    function renderAllLocations(filterCategory = null) {
      const container = document.getElementById('all-locations-container');
      let html = '';

      const entries = filterCategory
        ? Object.entries(places).filter(([cat]) => cat === filterCategory)
        : Object.entries(places);

      if (entries.length === 0) {
        container.innerHTML = '<p style="text-align:center;width:100%;color:var(--text-light)">Kh√¥ng t√¨m th·∫•y ƒë·ªãa ƒëi·ªÉm.</p>';
        return;
      }

      for (const [category, spotList] of entries) {
        html += `<div class="category-group" style="margin-bottom: 40px; animation: fadeIn 0.5s;">
          <h3 style="color: var(--muted); border-bottom: 2px solid var(--border); padding-bottom: 10px; margin-bottom: 20px;">
            ${category}
          </h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">`;

        spotList.forEach(spot => {
          html += `
            <div class="plan-card" style="margin-bottom: 0; display:flex; flex-direction:column;">
              <div style="position:relative">
                <img src="${spot.img}" alt="${spot.name}" style="height: 180px;">
                ${spot.price ? `<span style="position:absolute; bottom:10px; right:10px; background:rgba(0,0,0,0.7); color:#fff; padding:4px 8px; border-radius:8px; font-size:12px; font-weight:600;">${spot.price}</span>` : ''}
              </div>
              <div class="plan-card-content" style="flex:1; display:flex; flex-direction:column;">
                <h4 style="font-size: 16px; margin-bottom:4px;">${spot.name}</h4>
                <p style="font-size: 13px; color:#666; margin-bottom: 8px; flex:1;">${spot.desc}</p>
                
                <div style="font-size: 12px; color: #888; border-top: 1px dashed #eee; padding-top: 8px; margin-top: auto;">
                  ${spot.concept ? `<div style="margin-bottom:2px"><strong>Concept:</strong> ${spot.concept}</div>` : ''}
                  ${spot.style ? `<div style="margin-bottom:2px"><strong>Style:</strong> ${spot.style}</div>` : ''}
                  ${spot.menu ? `<div><strong>Menu:</strong> ${spot.menu}</div>` : ''}
                </div>
              </div>
            </div>
          `;
        });

        html += `</div></div>`;
      }

      container.innerHTML = html;
    }

    renderLocationFilters();
    renderAllLocations();

    // Floating Feedback Widget Logic
    function scrollToFeedback() {
      const feedbackSection = document.getElementById('feedback-section-static');
      if (feedbackSection) {
        // Scroll to element with offset for fixed header
        const yOffset = -200; // Offset to ensure title is visible under header
        const y = feedbackSection.getBoundingClientRect().top + window.pageYOffset + yOffset;
        window.scrollTo({ top: y, behavior: 'smooth' });
      }
    }

    // Handle Feedback
    // Handle Feedback
    function handleFeedback(e) {
      e.preventDefault();
      const form = e.target;
      const name = form.querySelector('[name="fb-name"]').value;
      const idea = form.querySelector('[name="fb-idea"]').value;

      // Simulate submission
      const btn = form.querySelector('button');
      const originalText = btn.innerText;
      btn.innerText = 'ƒêang g·ª≠i...';
      btn.disabled = true;

      setTimeout(() => {
        alert(`C·∫£m ∆°n ${name || 'b·∫°n'} ƒë√£ ƒë√≥ng g√≥p √Ω t∆∞·ªüng!\nCh√∫ng m√¨nh s·∫Ω s·ªõm xem x√©t "${idea}" ƒë·ªÉ th√™m v√†o danh s√°ch.`);
        e.target.reset();
        btn.innerText = originalText;
        btn.disabled = false;
        // toggleFeedback(); // No longer needed
      }, 1000);
    }
  </script>

  <!-- Fixed Floating Feedback Widget (Bottom Right) -->
  <div id="feedback-wrapper"
    style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; font-family: var(--font-body);">

    <!-- Scroll Button -->
    <button id="feedback-toggle-btn" onclick="scrollToFeedback()" style="
        background: var(--accent); 
        color: white; 
        border: none; 
        padding: 12px 20px; 
        border-radius: 30px; 
        font-weight: 600; 
        box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
        cursor: pointer; 
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 16px;
      ">
      üíå G√≥p √Ω
    </button>

    <style>
      #feedback-toggle-btn:hover {
        transform: scale(1.05);
      }
    </style>
  </div>
</body>

</html>